# Функционал "Достижения"

## Описание
Модуль достижений предоставляет пользователям возможность отслеживать свой прогресс в тренировках и получать награды за выполнение различных целей.

## Структура файлов

### Модели
- `achievement_model.dart` - модель данных для достижения
- `achievement_type.dart` - перечисление типов достижений

### Сервисы
- `achievement_service.dart` - API сервис для работы с достижениями

### Провайдеры
- `achievement_provider.dart` - управление состоянием достижений

### Экран
- `achievements_screen.dart` - основной экран с сеткой достижений
- `achievement_detail_screen.dart` - детальный экран достижения

## Функциональность

### Отображение достижений
- Сетка 3x3 с возможностью скролла
- Каждое достижение показывает иконку, название и статус
- Цветовая индикация разблокированных/заблокированных достижений

### Типы достижений
- **Общие** - базовые достижения
- **Тренировки** - связанные с тренировочными сессиями
- **Упражнения** - за выполнение упражнений
- **Серии** - за последовательные тренировки
- **Время** - за время тренировок
- **Социальные** - за взаимодействие с сообществом
- **Вес** - за работу с весами
- **Дистанция** - за кардио тренировки
- **Калории** - за сжигание калорий

### Источники данных
**API** - загрузка из таблицы `achievement_types`

### Навигация
- Переход к детальному экрану при нажатии на достижение

## Интеграция

### Добавление в main.dart
```dart
import 'providers/achievement_provider.dart';

// В MultiProvider
ChangeNotifierProvider(create: (_) => AchievementProvider()),
```

### Добавление в навигацию
Экран достижений уже интегрирован в главный экран как вторая вкладка.

## API Endpoints

### Получение достижений
- `GET /achievements/types` - все типы достижений
- `GET /achievements/user` - достижения пользователя
- `GET /achievements` - все достижения

### Обновление прогресса
- `PUT /achievements/{id}/progress` - обновление прогресса
- `PUT /achievements/{id}/unlock` - разблокировка достижения

## Использование

### Загрузка достижений
```dart
// В провайдере
await loadAchievementsFromTypesTable();
```

### Отображение в UI
```dart
Consumer<AchievementProvider>(
  builder: (context, provider, child) {
    if (provider.isLoading) {
      return CircularProgressIndicator();
    }
    
    if (provider.achievements.isEmpty) {
      return Text('Достижения не найдены');
    }
    
    return GridView.builder(
      // Отображение сетки достижений
    );
  },
)
```

## Кастомизация

### Добавление новых типов достижений
1. Добавить в enum `AchievementType`
2. Обновить метод `_getAchievementTypeName` в `achievement_detail_screen.dart`

### Изменение дизайна
- Цвета в `app_colors.dart`
- Стили в соответствующих экранах
- Размеры сетки в `achievements_screen.dart`

## Отладка

### Логирование
- Включены print-сообщения для отслеживания API запросов
- Отображение типа и содержимого ответа API



## Требования

### Зависимости
- `provider` - управление состоянием
- `http` - API запросы
- `flutter/material.dart` - UI компоненты

### Версии
- Flutter SDK: ^3.8.0
- Dart: ^3.8.0
